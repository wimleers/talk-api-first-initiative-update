<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>API-first initiative</title>

		<link rel="stylesheet" href="src/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="src/reveal.js/css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="src/reveal.js/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'src/reveal.js/css/print/pdf.css' : 'src/reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section id="open" data-background="img/DrupalCamp-open.jpeg">
				</section>
				<section id="intro">
					<h2>API-first initiative</h2>
					<table>
						<tr>
							<td class="fragment shrink">
								<p>Mateu Aguil√≥ Bosch
									<br><small style="vertical-align: baseline">Drupal.org: e0ipso
									<br><a href="https://twitter.com/e0ipso">@e0ipso</a>
									<br>&nbsp;
									<br>
									<br>Senior Developer
									<br><img src="img/lullabot_robot.svg" alt="Lullabot logo" style="border:none;height:2em;background:none;"></small>
								</p>
													<p class="fragment"><small><em>No Mateu today</em> üò•</small></p>
							</td>
							<td>
								<p>Wim Leers
									<br><small style="vertical-align: baseline">Drupal.org: Wim Leers
									<br><a href="https://twitter.com/wimleers">@wimleers</a>
									<br><a href="http://wimleers.com/">wimleers.com</a>
									<br>
									<br>Principal Software Engineer, OCTO
									<br><img src="img/acquia.png" alt="Acquia logo" style="border:none;height:1em;background:none;"></small>
								</p>
							</td>
						</tr>
					</table>
				</section>

				<section>
					<section id="overview">
						<h3>What we'll cover</h3>
						<ul>
							<li>Vision &amp; goals</li>
							<li>Roadmap</li>
							<li>Ecosystem</li>
							<li>Outstanding challenges</li>
							<li><em>Epilogue:</em> Dogfooding API-first</li>
							<li>Open discussion</li>
						</ul>
					</section>
				</section>

				<section id="audience-quick-questionnaire">
					<h3>Quick  questionnaire! üìù</h3>
					<ul style="font-size: 80%">
						<li>Who has worked on decoupled Drupal projects?
							<ul>
								<li class="fragment">If <q>yes</q>,
									<ul>
										<li>&gt;1 year ago? <span class="fragment">&gt;6 months ago? <span class="fragment">&lt;6 months ago/now?</span></span></li>
										<li class="fragment">was it critical to the overall project?</li>
									</ul>
								</li>
								<li class="fragment">If <q>no</q>, would you like to in the future?</li>
							</ul>
						</li>
						<li class="fragment">Did you use
							<ul>
								<li>Core's REST module? <span class="fragment">and the contrib REST UI module?</span>
									<ul>
										<li class="fragment">Did it noticeably improve in the past year?</li>
									</ul>
								</li>
								<li class="fragment">JSON API?</li>
								<li class="fragment">GraphQL?</li>
								<li class="fragment">A combination?</li>
							</ul>
						</li>
					</ul>
					‚úçÔ∏è
				</section>

				<section>
					<section id="vision-goals">
						<p>Vision &amp; goals</p>
					</section>
					<section id="vision-goals--driesquote">
						<figure>
							<blockquote>I believe that it is important to have <u>first-class web services</u> in Drupal out of the box in order to enable <u>top-notch APIs</u> and continue our evolution to become <u>API-first</u>.</blockquote>
							<figcaption>‚Äî Dries Buytaert</figcaption>
						</figure>
					</section>
					<section id="vision-goals--vision">
						<h4>An unparallelled API-first platform</h4>
						<p>All data available:</p>
						<ul>
							<li><strong>RESTfully</strong>
								<ul>
									<li>in any format <sup><small>(JSON, HAL+JSON ‚Ä¶)</small></sup></li>
									<li>in multiple flavors <sup><small>("HTTP purist", <code>jsonapi.org</code> ‚Ä¶)</small></sup></li>
								</ul>
							</li>
							<li><strong>non-RESTfully</strong>
								<ul>
									<li>via GraphQL</li>
									<li>via CouchDB protocol, for replication &amp; syncing</li>
								</ul>
							</li>
						</ul>
						<p>‚Ä¶ using any authentication mechanism <sup><small>(Cookie, Basic Auth, OAuth2)</small></sup></p>
					</section>
					<section id="vision-goals--growing-interest">
						<p>People <strike>want</strike> <strong>need</strong> this!</p>
						<hr>
						<p>We talked about this a lot:</p>
						<ul>
							<li>DrupalCon Baltimore: 12 sessions, 1 training</li>
							<li><a href="https://decoupleddevdays.com/">Decoupled Dev Days</a></li>
							<li>‚Ä¶</li>
						</ul>
					</section>
					<section id="vision-goals--goals">
						<h3>Goals</h3>
						<dl>
							<dt>Must have</dt>
							<dd class="fragment">
								<ul>
								<li><del>Make D8 REST usable</del> <span class="fragment">‚úÖ</span></li>
								<li>Make D8 REST best-in-class <span class="fragment">üèãÔ∏èüèãÔ∏è</span></li>
								<li>Excellent docs via OpenAPI <span class="fragment">üèãÔ∏èüèãÔ∏è</span></li>
								</ul>
							</dd>
							<dt>Should have</dt>
							<dd class="fragment">
								<ul>
									<li><del>JSON API</del> <span class="fragment">‚úÖ</span></li>
									<li>GraphQL <span class="fragment">üèãÔ∏èüèãÔ∏è</span></li>
									<li>Workflows: UUID and revision</li>
								</ul>
							</dd>
							<dt>Could have</dt>
							<dd class="fragment">
								<ul>
									<li>CouchDB support</li>
									<li>OAuth2 support <span class="fragment">üèãÔ∏è</span></li>
								</ul>
							</dd>
						</dl>
					</section>
					<section id="vision-goals--goals--6-months-ago">
						<h3>Goals (6 months ago)</h3>
						<dl>
							<dt>Must have</dt>
							<dd>
								<ul>
								<li><del>Make D8 REST usable</del> <span>‚úÖ</span></li>
								<li>Make D8 REST best-in-class <span>üèãÔ∏è</span></li>
								<li>Excellent docs via OpenAPI <span>üèãÔ∏è</span></li>
								</ul>
							</dd>
							<dt>Should have</dt>
							<dd>
								<ul>
									<li>JSON API <span>üèã</span></li>
									<li>GraphQL</li>
									<li>Workflows: UUID and revision</li>
								</ul>
							</dd>
							<dt>Could have</dt>
							<dd>
								<ul>
									<li>CouchDB support</li>
									<li>OAuth2 support</li>
								</ul>
							</dd>
						</dl>
					</section>
					<section id="vision-goals--why">
						<h3>Why?</h3>
						<dl>
							<dt>REST API</dt>
							<dd class="fragment" style="font-size: 80%">
								<ul>
									<li>Multiple formats</li>
									<li>Non-entity REST resources</li>
									<li>Very configurable</li>
								</ul>
							</dd>
							<dt>JSON API <em>‚Üí stable <small>8.3 contrib</small> ‚Üí mature <small>8.4 contrib</small> ‚Üí core <small>8.5</small></em></dt>
							<dd class="fragment" style="font-size: 80%">
								<ul>
									<li>Opinionated spec ‚áí better tooling, less bikeshedding
									<li>Collection support ‚áí <del>custom REST export views</del>
									<li>Not configurable: any entity that Entity Access allows</li>
								</ul>
							</dd>
							<dt>GraphQL <em>‚Üí stable <small>8.4 contrib</small></em></dt>
							<dd class="fragment" style="font-size: 80%">
								Great for UI components to fetch only necessary data!
							</dd>
							<dt>Excellent docs via OpenAPI <em>‚Üí stable <small>8.4 contrib</small></em></dt>
							<dd class="fragment" style="font-size: 80%">
								Starting is too painful ‚áí docs with interactive examples
							</dd>
						</dl>
					</section>
				</section>

				<section>
					<section id="roadmap">
						<p>Roadmap</p>
					</section>
					<section id="roadmap--team">
						<h3>Team</h3>
						<dl>
							<dt>Wim Leers</dt>
							<dd>Initiative coordinator <small>(esp. REST + Serialization + JSON API)</small></dd>
							<dt>e0ipso</dt>
							<dd>JSON API coordinator + OAuth2</dd>
							<dt>dawehner</dt>
							<dd>REST + Serialization + JSON API</dd>
							<dt>tedbow</dt>
							<dd>OpenAPI coordinator + REST + Serialization</dd>
							<dt>damiankloip</dt>
							<dd>Serialization maintainer + REST</dd>
						</dl>
					</section>
					<section id="roadmap--roadmap">
						<h3>Roadmap</h3>
						<ul>
							<li>Core REST: mature further</li>
							<li>JSON API: mature further, prepare for core inclusion</li>
							<li>GraphQL: stable contrib release</li>
						</ul>
					</section>
					<section id="roadmap--current-focus">
						<h3>Current focus</h3>
						<dl>
							<dt>REST API <em>‚Üí best in class</em></dt>
							<dd class="fragment" style="font-size: 80%">
								Missing: translations, modifying config, file uploads.
								<br>
								<em class="fragment">Much is blocked on subsystems in Drupal 8.</em>
							</dd>
							<dt>JSON API <em>‚Üí mature <small>8.4 contrib</small> ‚Üí core <small>8.5</small></em></dt>
							<dd class="fragment" style="font-size: 80%">
								Missing: comprehensive test coverage, plus the above.
							</dd>
							<dt>GraphQL <em>‚Üí stable <small>8.4 contrib</small></em></dt>
							<dd class="fragment" style="font-size: 80%">
								Missing: sites using it, to stabilize.
							</dd>
							<dt>Excellent docs via OpenAPI </dt>
							<dd class="fragment" style="font-size: 80%">
								6 mo ago: competition <small>(<code>rest_api_doc</code>, Schemata, Docson, OpenAPI)</small>
								<br>
								Now standardizing on OpenAPI!
							</dd>
						</dl>
					</section>
					<section id="roadmap--next">
						<h3>Next</h3>
						<p><small>Short term or long term? Depends on contributions!</small></p>
						<dl>
							<dt>UUIDs + revisions</dt>
							<dd class="fragment" style="font-size: 80%">
								‚ÄúEntity‚Äù + REST: no revisions, uses IDs
								<br> ‚Üí RELAXed Web Services.
							</dd>
							<dt>OAuth 2</dt>
							<dd class="fragment" style="font-size: 80%">
								JS &amp; native app developers expect OAuth 2.
							</dd>
							<dt>CouchDB support</dt>
							<dd class="fragment" style="font-size: 80%">
								Content replicability for deployment/offline-first
								<br> ‚Üí RELAXed Web Services.
							</dd>
						</dl>
					</section>
					<section id="roadmap--help">
						<figure>
							<img src="img/help.gif">
							<figcaption>Help needed üòπ<p class="fragment">Also: Acquia is hiring¬†‚Äî¬†talk to me!</p></figcaption>
						</figure>
					</section>
				</section>
				<section id="ecosystem">
					<section id="ecosystem--ecosystem">
						<p>Ecosystem</p>
					</section>
					<section id="ecosystem--tooling">
						<h4>Tooling</h4>
						<img src="img/waterwheel.png" style="background: white">
						<p>
							<a href="https://github.com/acquia/waterwheel.js">github.com/acquia/waterwheel.js</a>
							<br>
							<a href="https://github.com/acquia/waterwheel.swift">github.com/acquia/waterwheel.swift</a>
						</p>
					</section>
					<section id="ecosystem--distributions">
						<h4>Distributions</h4>
						<dl>
							<dt><u>Contenta</u> ‚Äî <a href="http://www.contentacms.org/">contentacms.org</a></dt>
							<dd><em>Productivity boost for Decoupled Drupalists</em></dd>
							<dd>(Keeps Drupalisms + provides example apps!)</dd>
							<dt style="margin-top: 1em"><u>Reservoir</u> ‚Äî <a href="https://github.com/acquia/reservoir">github.com/acquia/reservoir</a></dt>
							<dd><em>Empower non-Drupalists</em></dd>
							<dd>(Simplicity first: only 7 concepts!)</dd>
						</dl>
						<aside class="notes".>
							Contenta is a superset of Reservoir. Both use JSON API + OpenAPI. Cross-pollination.
						</aside>
					</section>

				</section>
				<section>
					<section id="outstanding-challenges">
						<p>Outstanding challenges</p>
					</section>
					<section id="outstanding-challenges--details">
						<dl>
							<dt>Image styles</dt>
							<dd>for responsive images</dd>
							<dt>Stay up-to-date</dt>
							<dd>for high adaptability to the interconnected ecosystem</dd>
							<dt>Improve DX further</dt>
							<dd>Entity validation error responses, field aliasing ‚Ä¶</dd>
							<dt>Path alias-based routing</dt>
							<dt>‚Ä¶</dt>
						</dl>
					</section>
				</section>

				<section id="discuss">
					<section id="discuss--start">
						<h3>Open discussion</h3>
					</section>
					<section id="discuss--too-quiet">
						<p>You are too quiet‚Ä¶</p>
					</section>
					<section id="discuss--q1">
						<p>How much of this should we have in Drupal core?</p>
					</section>
					<section id="discuss--q2">
						<p>What are the best places to start using this internally?</p>
					</section>
					<section id="discuss--q3">
						<p>What features are you excited about? Why?</p>
					</section>
					<section id="discuss--q4">
						<p>What authentication providers should we add?</p>
					</section>
					<section id="discuss--q5">
						<p>Do we support decoupled admin interfaces?</p>
					</section>
				</section>

				<section id="close" data-background="img/DrupalCamp-close.jpeg">
				</section>
			</div>
		</div>

		<script src="src/reveal.js/lib/js/head.min.js"></script>
		<script src="src/reveal.js/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				showNotes: !window.location.search.match( /no-notes/gi ),

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'src/reveal.js/plugin/markdown/marked.js' },
					{ src: 'src/reveal.js/plugin/markdown/markdown.js' },
					{ src: 'src/reveal.js/plugin/notes/notes.js', async: true },
					{ src: 'src/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
